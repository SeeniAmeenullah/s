import React from "react";

const Card = ({ title, value, percentageChange, icon }) => (
  <div className="card">
    <div className="card-icon">{icon}</div>
    <div className="card-content">
      <h3 className="card-title">{title}</h3>
      <p className="card-value">{value}</p>
      <p className={`card-percentage ${percentageChange > 0 ? "positive" : "negative"}`}>
        {percentageChange > 0 ? `+${percentageChange}%` : percentageChange}% in the last 7 days
      </p>
    </div>
  </div>
);

const MainDashboard = ({ metrics }) => {
  const {
    followers,
    likes,
    communities,
    engagementRates,
    media,
    postActivity,
    audienceDemography,
  } = metrics;

  return (
    <div className="main-dashboard">
      <h1>LYT Metrics looking good, Snow!</h1>
      <div className="cards-container">
        <Card
          title="Followers"
          value={followers}
          percentageChange={communities.followersChange}
          icon={<i className="fas fa-users"></i>}
        />
        <Card
          title="Likes"
          value={likes}
          percentageChange={communities.likesChange}
          icon={<i className="fas fa-thumbs-up"></i>}
        />
        <Card
          title="Engagement Rates"
          value={engagementRates}
          percentageChange={communities.engagementRatesChange}
          icon={<i className="fas fa-chart-line"></i>}
        />
        <Card
          title="Media"
          value={media}
          percentageChange={communities.mediaChange}
          icon={<i className="fas fa-camera"></i>}
        />
      </div>
      <div className="post-activity">
        <h2>Post Activity</h2>
        <div className="post-activity-content">
          <p>
            <strong>{postActivity.posts}</strong> posts
          </p>
          <p>
            <strong>{postActivity.comments}</strong> comments
          </p>
        </div>
      </div>
      <div className="audience-demography">
        <h2>Audience Demography</h2>
        <div className="audience-demography-content">
          <p>
            <strong>{audienceDemography.gender.male}</strong> Male
          </p>
          <p>
            <strong>{audienceDemography.gender.female}</strong> Female
          </p>
          <p>
            <strong>{audienceDemography.ageGroups.total}</strong> Total
          </p>
        </div>
      </div>
    </div>
  );
};

export default MainDashboard;
